<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Installation &amp; Basic Setup | Switchboard 1.0.0 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Installation &amp; Basic Setup | Switchboard 1.0.0 ">
      
      <link rel="icon" href="../assets/SwitchboardIconBorderless16.ico">
      <link rel="stylesheet" href="../styles/docfx.min.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      

      <script>
        MathJax = {
          options: {
            processHtmlClass: ['tex2jax_process', 'math']
          }
        };
      </script>

      <script type="text/javascript" src="../styles/docfx.min.js"></script>
      <script type="text/javascript" src="../styles/main.js"></script>
  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../assets/SwitchboardIconBorderless64.png" alt="Switchboard 1.0.0">
            Switchboard 1.0.0
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Setup">
<h2 id="installation--basic-setup">Installation &amp; Basic Setup</h2>

<p>Switchboard is available for download through the Unity Asset Store at <a href="https://assetstore.unity.com/packages/slug/250879">https://assetstore.unity.com/packages/slug/250879</a>.</p>
<ul>
<li>After importing Switchboard, open the Switchboard menu in the project settings window. This will automatically create a composition root asset located at Switchboard/Resources/CompositionRoot.asset. This asset is required by Switchboard at run time. The name of the file cannot be changed, but it can be relocated to any Resources directory.</li>
<li>Assign a dependency injector asset to the composition root, or you may disable the &quot;Log Null Injector Error&quot; option to ignore dependency injection. An example dependency injector can be found in the Switchboard/Example/Assets/ directory.</li>
<li>If using dependency injection, ensure that the script execution order of Switchboard.Destructor is set to the highest possible value, so that dependency injector deactivation occurs after all other MonoBehaviours have been destroyed.</li>
</ul>
<p><img src="../assets/CompositionRoot.png" alt="SwitchboardSettingsMenu"></p>
<h2 id="example">Example</h2>
<ul>
<li>Open the SwitchboardExample scene.</li>
<li>Note: Example assets are located in the Switchboard/Example/Assets/ directory.</li>
<li>Assign the example dependency injector asset to the Dependency Injector field in the Switchboard project settings menu.</li>
<li>Press play.</li>
<li>See how the color and position of the example object are injected automatically from the model data assigned to the dependency injector.</li>
<li>Change the color and properties of the model assigned to the dependency injector.</li>
<li>See how the color and motion of the example object change in real time.</li>
<li>Assign the other model asset to the dependency injector. If ModelA is assigned, assign ModelB, or vice versa.</li>
<li>Drag the ExamplePrefab to the scene hierarchy.</li>
<li>See how the color of the new object matches the color of the current model, but the object does not move. This is not a bug. It is intended to demonstrate a potential issue. The dependency injector began updating the original model when the application started playing. The new model was never told to update. The current model is still injected into new objects that request model data. The current color value is retreived. However, the new model is not fully functional because it was not activated with the composition root. Be aware of this potential when creating your own dependency injector. You may want to cache a reference to original data when the dependency injector activates, or make use of other patterns, to prevent certain data from changing at run time. Note that the composition root already maintains a reference to the original dependency injector when play begins. You are able to change the dependency injector assigned in the editor at run time, but the composition root will continue to use the original.</li>
<li>Stop play.</li>
<li>See that the changes made to the dependency injector and model assets while playing still remain after stopping. Changes made while play testing are not lost.</li>
<li>Open the <a href="https://docs.unity3d.com/ScriptReference/Application-persistentDataPath.html">UnityEngine.Application.persistentDataPath</a> directory for your project to view the generated log file.</li>
</ul>
<h2 id="create-a-dependency-injector">Create a Dependency Injector</h2>
<ul>
<li>The ExampleInjector class can be used as a template for creating your own dependency injector. The <a class="xref" href="../api/Switchboard.LogFileManager.html">LogFileManager</a> class simplifies the process of starting a log file in Unity. The <a class="xref" href="../api/Switchboard.ClockSynchronizer.html">ClockSynchronizer</a> synchronizes the <a class="xref" href="../api/Switchboard.PreciseClock.html">PreciseClock</a> with the system clock so that log file time stamps are accurate.</li>
<li>Create a new C# script, or copy the ExampleInjector to create a new dependency injector class.</li>
<li>Open the script and ensure the class derives from DependencyInjector. Remove any predefined MonoBehaviour methods.</li>
<li>Add a CreateAssetMenu attribute similar to the example injector so that an instance can be created and added to the project. If you want the create option to be in the Switchboard directory, use the attribute arguments (menuName = &quot;Switchboard/Your Injector Name Here&quot;, order = <a class="xref" href="../api/Switchboard.SwitchboardMenuOrder.html#Switchboard_SwitchboardMenuOrder_Value">SwitchboardMenuOrder.Value</a>).</li>
<li>Override the Activation(), Deactivation(), and GetInstanceOf(Type) methods.</li>
<li>The Activation() method will run when the application starts playing, before the first scene is fully loaded, before Awake(), OnEnable(), Start() or other methods are called on objects in the scene. You can create game objects and they will be added to the first scene that is loaded. However, it shouldn't usually be necessary to create game objects or MonoBehaviours. That's the whole reason this framework exists!</li>
<li>The Deactivation() method will be run when the application is quitting, but don't assume it is guaranteed. Deactivation() may not run in all cases. If the application closes suddenly, it is possible that this method may not be invoked. However, this method is where everything that was initialized during Activation() can also be shut down gracefully when play is stopped in the editor.</li>
<li>The GetInstanceOfType(Type) method provides an instance of the requested Type of object, if the dependency injector has been activated. This method will not be invoked until Activation() has occurred, prior to Deactivation(). The ExampleInjector class provides examples of how to handle type comparison. The Type argument will never be null, it will always be a reference type, and it can be compared for equality with a result of the typeof operator. Additionally, the IsAssignableFrom(Type) method can be invoked on the Type argument for a more flexible comparison of assignability. The requested Type could be a concrete Type, a class type in an inheritance hierarchy, or an interface. If the object in the dependency injector can be assigned to the requested Type, IsAssignableFrom(Type) will tell you. If you only want to respond to, for example, a request for a precise type of interface, then just compare for equality with the typeof() operator.</li>
</ul>
<h2 id="textmeshpro-integration">TextMeshPro Integration</h2>
<p>A TextMeshProExtensions class is included so that you can assign text with zero GC allocations. The extension methods enable easy assignment of a StringMaker to a TextMeshPro text component. The methods first check whether the text has actually changed to avoid re-calculating text geometry. Using a StringMaker to assign the text generates zero memory allocations for garbage collection. The script is included with references to TextMeshPro commented out, so Switchboard does not have an explicit dependency on TextMeshPro. Simply uncomment the included script and move it to a suitable location in your project to integrate StringMaker with TextMeshPro.</p>
</article>

        <div class="contribution d-print-none">
        </div>

        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span> <span>Switchboard was created by <a href="https://www.linkedin.com/in/ronnie-moon-12209380/">Ronnie Moon</a>.  Copyright © 2023 <a href="http://www.swipetrack.com/">SwipeTrack Solutions</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>